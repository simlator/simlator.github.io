<!DOCTYPE html>
<html>
<head>
<title>轉蛋</title>
</head>
<style>
body{
    background-image: url("bg.png");
    background-repeat: no-repeat;
}

#sad{
    position: fixed;
    width: 250px;
    height: 100px;
    top: 80%;
    left: 50%;
    margin-top: -100px; /* Negative half of height. */
    margin-left: -250px; /* Negative half of width. */
}

#sad5c{
    position: fixed;
    width: 250px;
    height: 100px;
    top: 80%;
    left: 80%;
    margin-top: -100px; /* Negative half of height. */
    margin-left: -250px; /* Negative half of width. */
}

p{
    font-size: 25px;
    color: red;
    top: 80%;
    width:200px;
    background: rgba(0,0,0);
    
}


</style>

<link
rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
/>
<body>

<button id="sad">招募 1 次</button>

<button id="sad5c">招募 5 次</button>

<div id="countBox">
    <small> 系統由太公家軒提供</small>
    <p>次數: <span id="drawCount">0</span></p>
    <p>消費: <span id="paidCount">0</span>
    <p>中獎次數: <span id="hitRate">0</span>
    <p>中左咩: <span id="goodStuff"></span 
</div>


</body>
<script
  src="https://code.jquery.com/jquery-3.6.0.js"
  integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
  crossorigin="anonymous"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.2.0/sweetalert2.min.css">
  <script src="sa2.js"></script>

<script>
    let chiuWu = 134
    let newnum
    let newnum1, newnum2, newnum3, newnum4, newnum5


    let paid = 0
    let times = 0
    let hitRate = 0
    let goodStuff = "";

    function getRandomInt(max) {
    return Math.floor(Math.random() * max);
    }

    $( "#sad" ).click(function() {


       //step 1
       firstRound = getRandomInt(100);
       console.log(firstRound)
        if(firstRound <= 6){

            secondRound();

        }else if(firstRound > 7 && firstRound <=36){
            Swal.fire({
                title: '4星',
            })

            paid += 198
            times += 1
            $("#drawCount").html(times)
            $("#paidCount").html(paid)
            $("#hitRate").html(hitRate)

        }else{
            Swal.fire({
                title: '3星',
            })

            paid += 198
            times += 1
            $("#drawCount").html(times)
            $("#paidCount").html(paid)
            $("#hitRate").html(hitRate)
        }

        /*newnum = getRandomInt(256);
        
        if(chiuWu == newnum){

            Swal.fire({
                title: '中左啦！！！！',
                imageUrl: 'chiu.jpeg',
                showClass: {
                    popup: 'animate__animated animate__wobble'
                },
                hideClass: {
                    popup: 'animate__animated animate__fadeOutUp'
                }
                })

                paid += 198
                times += 1
                hitRate += 1

                $("#drawCount").html(times)
                $("#paidCount").html(paid)
                $("#hitRate").html(hitRate)

        }


        else{
        swal.fire('唔中')
            
            paid += 198
            times += 1
            $("#drawCount").html(times)
            $("#paidCount").html(paid)

            console.log(newnum)
        }*/
    })

    $( "#sad5c" ).click(function() {


        
        newnum1 = getRandomInt(100);
        newnum2 = getRandomInt(100);
        newnum3 = getRandomInt(100);
        newnum4 = getRandomInt(100);
        newnum5 = getRandomInt(100);

        if(newnum1 <= 6 || newnum2 <= 6 || newnum3 <= 6 || newnum4 <= 6|| newnum5 <= 6){
            secondRound5();
        }
        else{
            Swal.fire({
                title: '唔中',
            })

            paid += 948
            times += 5
            $("#drawCount").html(times)
            $("#paidCount").html(paid)
            $("#hitRate").html(hitRate)
        }
        
    })


    function secondRound(){

        let array = ["黃月英", "劉備", "關羽", "張飛","周瑜","陸遜","徐晃","許褚","程昱",
        "夏侯惇","祝融","呂布","張角","馬超","黃忠","夏侯淵","孫權","樂進","太史慈","徐庶",
        "董卓","華佗","呂蒙","甘寧","曹仁","典韋","呂玲奇","鍾會","郭嘉", "其他垃圾"]

        const random = Math.floor(Math.random() * array.length);
        const final = (random, array[random])

        Swal.fire({
                title: '抽中左5星!' + final
                //imageUrl: 'chiu.jpeg',
            })

            paid += 198
            times += 1
            hitRate += 1

            goodStuff = goodStuff + final + "，"

            $("#drawCount").html(times)
            $("#paidCount").html(paid)
            $("#hitRate").html(hitRate)
            $("#goodStuff").html(goodStuff)
    }

    function secondRound5(){

        let array = ["黃月英", "劉備", "關羽", "張飛","周瑜","陸遜","徐晃","許褚","程昱",
        "夏侯惇","祝融","呂布","張角","馬超","黃忠","夏侯淵","孫權","樂進","太史慈","徐庶",
        "董卓","華佗","呂蒙","甘寧","曹仁","典韋","呂玲奇","鍾會","郭嘉", "其他垃圾"]

        const random = Math.floor(Math.random() * array.length);
        const final = (random, array[random])

        Swal.fire({
                title: '抽中左5星!' + final
                //imageUrl: 'chiu.jpeg',
            })

            paid += 948
            times += 5
            hitRate += 1

            goodStuff = goodStuff + final + "，"

            $("#drawCount").html(times)
            $("#paidCount").html(paid)
            $("#hitRate").html(hitRate)
            $("#goodStuff").html(goodStuff)
    }
</script>
</html>
